(()=>{"use strict";window.addEventListener("DOMContentLoaded",(()=>{(function(){function e(){document.querySelectorAll(".popup").forEach((e=>{e.remove()}))}function t(e,t){const n=document.createElement("div"),o=document.getElementsByName(e);n.className="popup",n.innerHTML=`<span class="popuptext show">${t}</span>`,o[0].before(n)}function n(e){const t=document.querySelector(e),n=document.querySelector(".modal-backdrop"),o=document.querySelector("body");t.classList.add("hide"),t.classList.remove("show"),n.className="hide",o.removeAttribute("style")}function o(e,t){"Modal"===e&&n("#Modal"),document.querySelector("body").className="modal-open",document.querySelector("body").style.setProperty("overflow","hidden"),document.querySelector("body").style.setProperty("padding-right","17px");const o=document.createElement("div");o.innerHTML='\n            <div class="modal-backdrop fade show">\n            ',document.querySelector("body").append(o);const l=document.createElement("div");l.innerHTML=`\n            <div class="modal fade show" id="thanksModal" tabindex="-1" aria-labelledby="exampleThanksModalLabel" aria-modal="true" role="dialog" style="display: block">\n                <div class="modal-dialog">\n                    <div class="modal-content text-center green">\n                        <form action="">\n                            <h4 class="modal-title" id="exampleThanksModalLabel">${t}</h4>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        `,document.querySelector("body").append(l),setTimeout((()=>{n("#thanksModal"),l.remove(),a()}),3e3)}function a(){document.querySelectorAll("form").forEach((e=>{e.reset()}))}function l(e){const t=document.querySelector(e),n="#validationTelephone"===e||"#validationTelephoneModal"===e?13:2;t.addEventListener("input",(()=>{t.value.trim().length<n?t.style.border="1px solid red":t.style.border=null}))}document.addEventListener("click",(t=>{t.target.classList.contains("btn")||e()})),document.querySelectorAll("form").forEach((n=>{n.addEventListener("submit",(async function(l){l.preventDefault(),e();let d="";const r=new FormData(n);r.has("userNameModal")&&(d="Modal");const i=r.get("userName"+d),c=r.get("telephone"+d),s=r.get("direction"+d),u=r.get("city"+d);if(i.trim().length<2)return void t("userName"+d,"Занадто коротке Ім'я");if(c.length<18)return void t("telephone"+d,"Занадто короткий номер телефону");if(!s)return void t("direction"+d,"Виберіть один з пунктів списку");if(u.trim().length<2)return void t("city"+d,"Занадто коротка назва міста");if(localStorage.getItem("dispatchTime")){const e=9e5,n=(new Date).getTime()-localStorage.getItem("dispatchTime");if(n<e){const o=Math.ceil((e-n)/6e4);return void t("sendRequest"+d,`Спробуйте відправити наступну заявку через ${o} хвилин`)}}n.classList.add("sending");let m="<b>Заявка с сайта bianchiprof.com</b>\n";m+=`<b>Отправитель: </b> ${i}\n`,m+=`<b>Телефон: </b> ${c}\n`,m+=`<b>Направление: </b> ${s}\n`,m+=`<b>Город: </b> ${u}`,axios.post("https://api.telegram.org/bot5774145299:AAGy5P9iegkmnE51AWQBBCE9P-npbKCN4aY/sendMessage",{chat_id:"-1001646707499",parse_mode:"html",text:m}).then((e=>{o(d,"Дякуємо! Чекайте на дзвінок менеджера!"),localStorage.setItem("dispatchTime",(new Date).getTime())})).catch((e=>{o(d,"Спробуйте відправити повідомлення через декілька хвилин")})).finally((()=>{n.classList.remove("sending"),a()}))}))}));try{l("#validationName"),l("#validationTelephone")}catch{}l("#validationNameModal"),l("#validationTelephoneModal")})(),[].forEach.call(document.querySelectorAll(".tel"),(function(e){var t;function n(e){e.keyCode&&(t=e.keyCode),this.selectionStart<3&&e.preventDefault();var n="+38 (___) ___ ____",o=0,a=n.replace(/\D/g,""),l=this.value.replace(/\D/g,""),d=n.replace(/[_\d]/g,(function(e){return o<l.length?l.charAt(o++)||a.charAt(o):e}));-1!=(o=d.indexOf("_"))&&(o<5&&(o=3),d=d.slice(0,o));var r=n.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");(!(r=new RegExp("^"+r+"$")).test(this.value)||this.value.length<5||t>47&&t<58)&&(this.value=d),"blur"==e.type&&this.value.length<5&&(this.value="")}e.addEventListener("input",n,!1),e.addEventListener("focus",n,!1),e.addEventListener("blur",n,!1),e.addEventListener("keydown",n,!1)})),window.addEventListener("scroll",(e=>{const t=document.getElementById("navbar").classList,n="navbar-opacity";scrollY>100?t.add(n):t.remove(n)}))}))})();
//# sourceMappingURL=index.js.map